<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DiffTT&#39;s Blog</title>
  <subtitle>I&#39;m PHPer</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.difftt.com/"/>
  <updated>2016-07-30T09:20:28.000Z</updated>
  <id>http://blog.difftt.com/</id>
  
  <author>
    <name>JoJo Zhou</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Fiddler Hosts 功能快速切换环境</title>
    <link href="http://blog.difftt.com/2016/07/30/fiddler-hosts-tip/"/>
    <id>http://blog.difftt.com/2016/07/30/fiddler-hosts-tip/</id>
    <published>2016-07-30T05:41:40.000Z</published>
    <updated>2016-07-30T09:20:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>在工作中经常使用 Fiddler 调试，其中包括使用 Fiddler 自定义 Hosts 来完成服务端环境的切换。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># local</div><div class="line">127.0.0.1 blog.difftt.com</div><div class="line"></div><div class="line"># test</div><div class="line">10.0.0.10 blog.difftt.com</div></pre></td></tr></table></figure>
<p>这样切换环境的时候，需将另一组注释掉，如果一组域名有很多的话，Fiddler 的 Hosts 编辑器体验就很糟糕了，即便是编辑系统 hosts 也不是很方便。</p>
<p>这里就需要另一款工具 SwitchHosts，它可以将不同环境分组，实现一键切换环境，但是 Chrome 或者 Fiddler 都有自带 DNS 缓存。</p>
<p>好在 Fiddler 脚本里可以添加选项来设置缓存失效时间，这样只需清空 Fiddler 列表即可切换环境了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">FiddlerObject.UI.lvSessions.AddBoundColumn(&quot;Server IP&quot;, 120, &quot;X-HostIP&quot;);</div><div class="line">FiddlerApplication.Prefs.SetInt32Pref(&quot;fiddler.network.timeouts.dnscache&quot;, 0);</div></pre></td></tr></table></figure></p>
<p>添加 IP 字段可以观察环境切换是否生效。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在工作中经常使用 Fiddler 调试，其中包括使用 Fiddler 自定义 Hosts 来完成服务端环境的切换。&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div cla
    
    </summary>
    
    
      <category term="fiddler hosts" scheme="http://blog.difftt.com/tags/fiddler-hosts/"/>
    
  </entry>
  
</feed>
